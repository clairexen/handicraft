<script src="visual6502/segdefs.js"></script>
<script src="visual6502/transdefs.js"></script>
<script src="visual6502/nodenames.js"></script>
<script>

var foundNet = new Object();

document.write("<pre>\n");
document.write("// generated by model6502.html from http://visual6502.org/JSSim/\n");
document.write("#include \"nmossim.h\"\n");
document.write("void model6502(NmosSim &amp;sim) {\n");
for (i in segdefs) {
	netid = segdefs[i][0];
	pullup = segdefs[i][1] == '+';
	if (foundNet[netid] == 1)
		continue;
	foundNet[netid] = 1;
	document.write("NmosSim::Net *n"+netid+" = sim.addNet(false, "+(pullup?"true":"false")+", \"n"+netid+"\");\n");
}
for (i in nodenames) {
	if (nodenames[i] >= 0)
		document.write("sim.addLabel(n"+nodenames[i]+", \""+i+"\");\n");
}
for (i in transdefs) {
	document.write("sim.addTrans(n"+transdefs[i][1]+", n"+transdefs[i][2]+
			", n"+transdefs[i][3]+", \""+transdefs[i][0]+"\");\n");
}
document.write("}\n");

</script>
